module WechatAuth
  class GetOpenid

    attr_reader :uri, :redirect_uri
    
    def initialize( ps = {} )
      @redirect_uri = ps[:redirect_uri] || "http://www.sflx.com.cn"
      @uri = ps[:uri] || WechatAuth::GetCodeUri.new(redirect_uri: redirect_uri).snsapi
    end

    def get
      Net::HTTP.get_response(uri)
    end

    

  end
end
